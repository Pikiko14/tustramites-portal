(this["webpackJsonptus-tramites-administrador"]=this["webpackJsonptus-tramites-administrador"]||[]).push([[27],{199:function(e,a,t){"use strict";t(0);var r=t(71),n=t(215),c=t(1);a.a=e=>{let{title:a="Nuevo Tr\xe1mite"}=e;return Object(c.jsxs)("div",{className:"content-add-tramite",children:[Object(c.jsx)("div",{className:"button-nuevo-tramite",children:Object(c.jsxs)("div",{className:"centrarVerHor",children:[Object(c.jsx)(r.q,{}),Object(c.jsx)("span",{children:a})]})}),Object(c.jsx)("div",{className:"input-tramite",children:Object(c.jsx)("div",{className:"notificacion-movil",children:Object(c.jsx)(n.a,{})})})]})}},423:function(e,a,t){},478:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t(213),c=t(74),i=t(447),s=t(483),l=t(190),o=t(481),d=t(328),u=t(229),m=t(70),h=t(68),p=t(204),j=t.n(p),b=t(290),O=t.n(b),f=(t(422),t(199)),v=(t(423),t(1));a.default=e=>{const[a,t]=Object(r.useState)(!1),[p,b]=Object(r.useState)(),[x,y]=Object(r.useState)(),[Y,g]=Object(r.useState)(),[N,C]=Object(r.useState)(null),[M,D]=Object(r.useState)(null),[k,S]=Object(r.useState)([]),[I]=s.a.useForm(),[A,w]=Object(r.useState)([]),[q,F]=Object(r.useState)(!1),{user:_}=Object(r.useContext)(c.a),E=e=>{h.a.get("/api/notary/schedule/"+e._id).then((e=>{S(e.data)}))},H=e=>{h.a.get("/api/category/"+e).then((e=>{y(e.data)}))},T=()=>{var a={...Y};a.state="13",delete a.date_appointment,h.a.put("/api/procedurenotarial/"+a._id,a).then((a=>{m.a.show({type:"success",title:"\xa1"+_.first_name+" t\xfa cita ha quedado cancelada!",message:"Cuando tengas la nueva fecha confirmada para ir a Notaria, ve a la opci\xf3n Mis Tr\xe1mites, buscas tu tr\xe1mite y accedes en el bot\xf3n Ver de la opci\xf3n Reagendar cita.",btnOk:"Aceptar",fnOk:()=>{e.history.push("/procedurenotarial")},btnCancel:"Cancelar"})})).catch((e=>{m.a.show({type:"error",title:"Error inesperado",message:"Ocurrio un error inesperado, vuelve a intentar",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar"})}))};return Object(r.useEffect)((()=>{(()=>{let a=O()().format("YYYY/MM/DD");C(a),D(a);let{p:t}=j.a.parse(e.location.search);t&&h.a.get("/api/procedurenotarial/one/"+t).then((e=>{var a,t;if(g(e.data),b(e.data.notarialAct),H(e.data.notarialAct.category),E(e.data.notary),"12"===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.state)||"14"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.state)){var r,n,c,i;F(!0),D(O()(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(n=r.date_appointment)||void 0===n?void 0:n.split(" ")[0]).format("YYYY-MM-DD"));let a={hour:null===e||void 0===e||null===(c=e.data)||void 0===c||null===(i=c.date_appointment)||void 0===i?void 0:i.split(" ")[1]};I.setFieldsValue(a)}}))})(),setTimeout((()=>{t(!1)}),1e3)}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(n.a,{loader:a,hasHeaderProfile:!0,classNameMain:"dateMain",children:[Object(v.jsx)(f.a,{}),Object(v.jsx)("h3",{className:"title-indicaciones",children:x&&x.name+" /"}),Object(v.jsx)("div",{className:"line-morado",children:" "}),Object(v.jsx)("h2",{className:"title-indicaciones",children:p&&p.name}),Object(v.jsxs)("div",{className:"diplayflex",children:[Object(v.jsx)("div",{className:"content-circule",children:Object(v.jsx)("div",{className:"circule-notaria",children:Object(v.jsx)("span",{className:"circule-number",children:"4"})})}),Object(v.jsx)("h2",{className:"titleIngresarInfo",children:q?"Modifica tu cita":"Agenda tu cita"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{className:"display-linebreak",children:q?"Datos de tu cita. \n\n"+Y.notary.name+" \n"+Y.notary.address+"\nFecha: "+M+"\nHora: "+I.getFieldValue("hour")+"\n\n\nSi deseas cambiar el d\xeda de tu cita, selecciona la nueva fecha en el siguiente calendario. A continuaci\xf3n, escoge la hora en la que deseas asistir y presiona el bot\xf3n Modificar.\n \n                            Si no tienes definida la fecha en la que vas a asistir, puedes oprimir el bot\xf3n Cancelar cita y programarla despu\xe9s.":"\xa1Tu tr\xe1mite ya est\xe1 listo! \n\n                                Selecciona el d\xeda y la hora para reclamar tu documento en Notar\xeda con una cita preferencial."}),Object(v.jsxs)(s.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:24},onFinish:a=>{Y.date_appointment=N+" "+a.hour,Y.state=q?"14":"12",N&&a.hour?h.a.put("/api/procedurenotarial/"+Y._id,Y).then((t=>{m.a.show({type:"success",title:q?"\xa1"+_.first_name+" t\xfa cita ha sido modificada!":"Exito",message:q?"Dia: "+N+"\n Hora: "+a.hour+"\n Notar\xeda: "+Y.notary.name+" \nDirecci\xf3n: "+Y.notary.address+" \nGracias por confiar en nosotros.":"\xa1T\xfa cita preferencial est\xe1 agendada!\n ",btnOk:"Aceptar",fnOk:()=>{e.history.push("/procedurenotarial")},btnCancel:"Cancelar"})})).catch((e=>{m.a.show({type:"error",title:"Error inesperado",message:"Ocurrio un error inesperado, vuelve a intentar",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar"})})):m.a.show({type:"error",title:"Informaci\xf3n",message:"Por favor selecciona el d\xeda y la hora de tu cita.",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar"})},onFinishFailed:()=>{},autoComplete:"off",form:I,children:[Object(v.jsx)(s.a.Item,{hasFeedback:!0,rules:[{required:!0,message:"Por favor seleccionada la hora de tu cita"}],className:"calendarItem",children:Object(v.jsx)(l.a,{locale:i.a,children:Object(v.jsx)(o.a,{name:"date",disabledDate:e=>{let a=O()().format("YYYY-MM-DD");return e&&e.format("YYYY-MM-DD")<a||e.format("YYYY-MM-DD")>O()(a).add(1,"M").format("YYYY-MM-DD")||0===e.day()},fullscreen:!1,defaultValue:O()(),format:"YYYY-MM-DD",onSelect:e=>{C(O()(e).format("YYYY-MM-DD"));var a=[];k.forEach((t=>{parseInt(t.day)===parseInt(e.day())&&t.schedule.schedules.forEach((e=>{a.push(e)}))})),w(a)}})})}),Object(v.jsx)(s.a.Item,{label:"Hora:",name:"hour",id:"hour",rules:[{required:!0,message:"La Hora es requerida"}],className:"selectHour",children:Object(v.jsx)(d.a,{placeholder:"Seleccione la hora",allowClear:!0,children:A.map(((e,a)=>Object(v.jsx)("option",{value:e,children:e},a)))})}),Object(v.jsxs)("h6",{className:"titleIngresarInfo",children:["NOTA:",Object(v.jsx)("span",{className:"titleIngresarInfo-rest",children:q?" Para modificar o cancelar tu cita, recuerda que puedes hacerlo con un m\xednimo de 8 horas de anticipaci\xf3n. De lo contrario, ya no te aparecer\xe1 habilitada la opci\xf3n de cambiarla.":"Recuerda que debes presentar los documentos originales o copias certificadas ante el Notario en el momento de la cita."})]}),Object(v.jsxs)("div",{className:"containerButtons",children:[Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(u.a,{type:"primary",className:"btnSave",onClick:()=>{q?m.a.show({type:"warning",title:"Confirmaci\xf3n",message:"\xbfEsta seguro de cancelar su cita?.",btnOk:"Aceptar",fnOk:()=>{T()},btnCancel:"Cancelar",fnCancel:()=>{}}):e.history.push("/procedurenotarial")},children:q?"Cancelar cita":"Cerrar"})}),Object(v.jsx)(s.a.Item,{children:Object(v.jsx)(u.a,{type:"primary",htmlType:"submit",className:"btnContinuar",children:q?"Modificar":"Agendar"})})]})]})]})})}}}]);
//# sourceMappingURL=27.88834492.chunk.js.map