(this["webpackJsonptus-tramites-administrador"]=this["webpackJsonptus-tramites-administrador"]||[]).push([[2],{213:function(e,t,a){"use strict";var s=a(0),c=a.n(s),n=a(74),l=a(77),i=a(328),r=a(483),o=a(444),d=a(334),j=a(229),m=a(443),u=a(1);var b=e=>{let{page:t,data:a,setData:s,callback:c}=e;const n=()=>{s(null),c(!0)};return Object(u.jsx)(m.a,{open:a,onOk:n,onCancel:n,forceRender:!0,centered:!0,maskClosable:!1,className:"modalPYTD",footer:[Object(u.jsx)(j.a,{type:"primary",onClick:n,children:"Aceptar t\xe9rminos"},"submit"),Object(u.jsx)(j.a,{onClick:()=>{s(null),c(!1)},children:"Cancelar"},"back")],children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:t&&t.content.replace("oembed","embed").replace("url","src").replace("</oembed>","</embed>").replace("watch?v=","embed/")}})})},h=a(68),p=a(70),O=a(466);a(249);const{Option:x}=i.a;var g=()=>{const{user:e}=Object(s.useContext)(n.a),[t,a]=Object(s.useState)(),[c,m]=Object(s.useState)([]),[g,v]=Object(s.useState)(),[f,y]=Object(s.useState)(!1),{dispatch:C}=Object(s.useContext)(l.a),[N]=r.a.useForm();return Object(s.useEffect)((()=>{(async()=>{const e=await h.a.get("/api/page");200===e.status&&m(e.data)})(),(()=>{let t={name:"".concat(e.first_name||""," ").concat(e.last_name||""),email:e.email,phone:"",schedule:"Cualquier horario",message:""};N.setFieldsValue(t)})()}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{page:t,data:g,setData:v,callback:e=>{y(e)}}),Object(u.jsxs)("div",{className:"call-me",children:[Object(u.jsx)("div",{className:"call-me-header",style:{backgroundImage:"url(/assets/images/fondoperfil.jpeg)"},children:Object(u.jsx)("h6",{children:"Nosotros te llamamos"})}),Object(u.jsxs)("div",{className:"call-me-content",children:[Object(u.jsxs)("div",{className:"containerDescriptions",children:[Object(u.jsx)("p",{children:"Bienvenid@"}),Object(u.jsx)("p",{children:"Nuestro horario de atenci\xf3n es de 8:00 a 17:00. Por favor d\xe9janos tus datos y en el menor tiempo posible te estaremos contactando."})]}),Object(u.jsxs)(r.a,{form:N,layout:"vertical",onFinish:async e=>{if(f){(await fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL_API+"/api/callme",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})).ok?(N.resetFields(),C({type:"CALL_ME",payload:!1}),p.a.show({type:"success",title:"Solicitud Exitosa",message:"Se ha enviado tu solicitud de llamada.",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})):p.a.show({type:"error",title:"\xa1Ups!",message:"Error al enviar tu solicitud de llamada",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})}else p.a.show({type:"error",title:"",message:"Por favor acepta la pol\xedtica de privacidad",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})},children:[Object(u.jsx)(r.a.Item,{name:"name",rules:[{required:!0,message:"Por favor ingresa tu nombre"},{min:3,message:"Tu nombre debe tener m\xednimo 3 caracteres"},{max:50,message:"Tu nombre debe tener m\xe1ximo 50 caracteres"}],children:Object(u.jsx)(o.a,{type:"text",placeholder:"Nombre Completo"})}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)(r.a.Item,{name:"email",rules:[{required:!0,message:"Por favor ingresa tu correo electr\xf3nico"},{type:"email",message:"El email que ingresaste no es v\xe1lido"}],children:Object(u.jsx)(o.a,{type:"email",placeholder:"Correo electr\xf3nico"})}),Object(u.jsx)(r.a.Item,{name:"phone",rules:[{required:!0,message:"Por favor ingresa tu n\xfamero celular"},{min:8,message:"Tu n\xfamero celular debe tener m\xednimo 8 d\xedgitos"}],children:Object(u.jsx)(o.a,{type:"number",placeholder:"Celular"})})]}),Object(u.jsx)("div",{className:"containerDescriptions",children:Object(u.jsx)("p",{children:"\xbfEn qu\xe9 horario prefieres que te llamemos?"})}),Object(u.jsx)(r.a.Item,{name:"schedule",rules:[{required:!0,message:"Por favor seleciona una opci\xf3n"}],children:Object(u.jsxs)(i.a,{placeholder:"\xbfEn qu\xe9 horario deber\xedamos llamarte?",suffixIcon:Object(u.jsx)(O.a,{}),children:[Object(u.jsx)(x,{value:"Cualquier horario",className:"optionCallMe",children:"Cualquier horario"}),Object(u.jsx)(x,{value:"Ma\xf1ana",className:"optionCallMe",children:"Ma\xf1ana"}),Object(u.jsx)(x,{value:"Tarde",className:"optionCallMe",children:"Tarde"}),Object(u.jsx)(x,{value:"Noche",className:"optionCallMe",children:"Noche"})]})}),Object(u.jsx)(r.a.Item,{name:"message",rules:[{required:!0,message:"Por favor ingresa tu mensaje o solicitud"},{min:5,message:"Tu mensaje o solicitud debe tener m\xednimo 5 caracteres"},{max:300,message:"Tu mensaje o solicitud debe tener m\xe1ximo 300 caracteres"}],children:Object(u.jsx)(o.a.TextArea,{autoSize:{maxRows:3,minRows:3},rows:3,placeholder:"Describe brevemente tu inquietud"})}),Object(u.jsxs)("div",{className:"form-footer",children:[Object(u.jsxs)(r.a.Item,{name:"polity",className:"containerCheck",children:[Object(u.jsx)(d.a,{onChange:function(e){y(e.target.checked)},checked:f}),Object(u.jsx)("span",{className:"text",onClick:()=>(a(c.find((e=>"politica-privacidad"===e.url))),void v(c.find((e=>"politica-privacidad"===e.url)))),children:"He le\xeddo y acepto la pol\xedtica de privacidad"})]}),Object(u.jsxs)("div",{className:"containerButtons",children:[Object(u.jsx)(j.a,{className:"btnContinuar",onClick:()=>C({type:"CALL_ME",payload:!1}),children:"Cancelar"}),Object(u.jsx)(j.a,{htmlType:"submit",className:"btnSave",children:"Enviar"})]})]})]})]})]})]})};var v=()=>{const{user:e}=Object(s.useContext)(n.a),{dispatch:t}=Object(s.useContext)(l.a),[a]=r.a.useForm(),[c,i]=Object(s.useState)(!1),[o,d]=Object(s.useState)("");return Object(s.useEffect)((()=>{(async()=>{const e=await h.a.get("/api/aditional/search/phone");200===e.status&&d(e.data)})();const e=navigator.userAgent;i(/Mobi|Android/i.test(e))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"call-me",children:[Object(u.jsx)("div",{className:"call-me-header",style:{backgroundImage:"url(/assets/images/fondoperfil.jpeg)"},children:Object(u.jsx)("h6",{children:"Ll\xe1manos"})}),Object(u.jsxs)("div",{className:"call-me-content",children:[Object(u.jsxs)("div",{className:"containerDescriptions",children:[Object(u.jsx)("p",{children:"Bienvenid@"}),Object(u.jsx)("p",{children:"Nuestro horario de atenci\xf3n es de 8:00 a 17:00. A continuaci\xf3n te dejamos nuestro tel\xe9fono."})]}),Object(u.jsx)(r.a,{form:a,layout:"vertical",children:Object(u.jsxs)("div",{className:"form-footer",children:[Object(u.jsx)(r.a.Item,{name:"polity",className:"containerCheck",children:Object(u.jsx)("span",{children:o})}),Object(u.jsxs)("div",{className:"containerButtons",children:[Object(u.jsx)(j.a,{className:"btnContinuar",onClick:()=>t({type:"CALL_US",payload:!1}),children:"Cerrar"}),c?Object(u.jsx)(j.a,{className:"btnSave",children:Object(u.jsx)("a",{href:"tel:".concat(o),children:"Llamar"})}):null]})]})})]})]})})},f=a(266),y=a.n(f),C=a(71),N=(a(280),a(499));var k=e=>{let{whatsapp:t,options:a,levelKeys:c,setLevelKeys:l,actualLevel:i,setActualLevel:d}=e;const[m]=r.a.useForm(),[b,h]=Object(s.useState)([]),{user:O}=Object(s.useContext)(n.a),x=(e,t)=>{let s;if(0==i&&(s=a.find((t=>t.key==e))),1==i){s=a.find((e=>e.key==t[0])).secondLevel.find((t=>t.key==e))}if(2==i){s=a.find((e=>e.key==t[0])).secondLevel.find((e=>e.key==t[1])).sons.find((t=>t.key==e))}return s},g=()=>{if(a.length>0){let e={},t=[],s=[],n=[],l=localStorage.getItem("actualLevel")?parseInt(localStorage.getItem("actualLevel")):i,r=localStorage.getItem("levelKeys")?JSON.parse(localStorage.getItem("levelKeys")):c;for(let c=0;c<=l;c++){if(0==c)e={description:"Bienvenido, elige una de las siguientes opciones"},a.map(((e,a)=>t.push(e.key+" "+e.title))),e.items=t,e.whatsapp=!1,s.push(e);else if(1==c){s.push({description:r[0]});let c=a.find((e=>e.key==r[0]));e.description=c.description,n=c.secondLevel||[],n.map(((e,a)=>{t.push(e.key+" "+e.title)})),e.whatsapp=c.whatsapp,e.items=t,s.push(e)}else if(2==c){s.push({description:r[1]});let c=a.find((e=>e.key==r[0])).secondLevel.find((e=>e.key==r[1]));e.description=c.description,n=c.sons||[],n.map(((e,a)=>{t.push(e.key+" "+e.title)})),e.whatsapp=c.whatsapp,e.items=t,s.push(e)}else if(3==c){s.push({description:r[1]});let c=a.find((e=>e.key==r[0])).secondLevel.find((e=>e.key==r[1])).sons.find((e=>e.key==r[2]))||null;c?(n.push(c),n.map(((e,a)=>{t.push(e.title+": \n"+e.description)})),e.items=t,e.description=c.description,e.whatsapp=c.whatsapp):(e.items=[],e.whatsapp=!1),s.push(e)}e={},t=[],n=[]}h(s)}};return Object(s.useEffect)((()=>{g()}),[a]),Object(u.jsx)(u.Fragment,{children:a&&a.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsx)("div",{className:"message",children:b&&b.map(((e,t)=>Object(u.jsx)("div",{className:"message-content",children:e.items?Object(u.jsx)(u.Fragment,{children:e.items.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:e.description}),Object(u.jsx)("ul",{className:"burbuje other",children:e.items.map(((e,t)=>Object(u.jsx)("li",{children:e},t)))},t)]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"burbuje me",children:e.description})})},t)))}),Object(u.jsxs)("div",{className:"containerButtons",children:[b.length>0&&b.map(((e,a)=>a==b.length-1&&e.whatsapp&&Object(u.jsx)("div",{className:"buttonWhatsapp",children:Object(u.jsxs)(y.a,{number:t,message:"Hola, quisiera realizarte una consulta. Puedes ayudarme?",children:[Object(u.jsx)(C.z,{}),Object(u.jsx)("span",{children:"WhatsApp"})]})},a))),i>0&&Object(u.jsx)("div",{className:"containerBack",children:Object(u.jsx)("a",{onClick:()=>(()=>{let e=localStorage.getItem("actualLevel")?parseInt(localStorage.getItem("actualLevel")):i,t=localStorage.getItem("levelKeys")?JSON.parse(localStorage.getItem("levelKeys")):c;e-=1,b.slice(0,e+e),t=t.slice(0,e),localStorage.setItem("actualLevel",e.toString()),localStorage.setItem("levelKeys",JSON.stringify([...t])),d(e),l(t),g()})(),children:"Atr\xe1s"})})]}),Object(u.jsx)("div",{className:"message-form",children:Object(u.jsxs)(r.a,{layout:"vertical",form:m,onFinish:e=>{if(""!=e.message){let a="";try{let t=parseInt(e.message),s=[...b],n=[...c],r=x(t,n);if(r){s.push({description:e.message});let t=i+1;d(t),1==t?n[0]=r.key:2==t?n[1]=r.key:3==t&&(n[2]=r.key),localStorage.setItem("levelKeys",JSON.stringify([...n])),localStorage.setItem("actualLevel",""+t),l(n),g()}else a="La opci\xf3n que elegiste no pudo ser encontrada. Por favor vuelve a intentar"}catch(t){a="El valor que ingresaste no es v\xe1lido, ingresa un nuevo valor y vuelve a intentar"}""!=a&&p.a.show({type:"success",title:"",message:a,btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0}),m.resetFields()}},children:[Object(u.jsx)(r.a.Item,{name:"message",id:"message",rules:[{required:!0,message:"Por favor ingresa un n\xfamero entre 1 y 99"},{min:1,message:"Por favor ingresa un n\xfamero menor a 99"},{max:2,message:"Por favor ingresa un n\xfamero menor a 99"}],children:Object(u.jsx)(o.a,{disabled:!(i<3),placeholder:"Elige una de las opciones",type:"number",autoComplete:"off"})}),Object(u.jsx)(j.a,{htmlType:"submit",className:"buttonFinish",children:Object(u.jsx)(N.a,{})})]})})]})}):null})};a(281);var S=()=>{const{dispatch:e}=Object(s.useContext)(l.a),{user:t}=Object(s.useContext)(n.a),[a,c]=Object(s.useState)(""),[i,r]=Object(s.useState)([]),[o,d]=Object(s.useState)([]),[m,b]=Object(s.useState)(0);return Object(s.useEffect)((()=>{(async()=>{const e=await h.a.get("/api/aditional/search/whatsapp");200===e.status&&c(e.data)})(),h.a.get("/api/chatbot").then((e=>{r(e.data)})).catch((e=>{})),localStorage.getItem("levelKeys")&&d(JSON.parse(localStorage.getItem("levelKeys"))),localStorage.getItem("actualLevel")&&b(parseInt(localStorage.getItem("actualLevel")))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"chat-me",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(/assets/images/fondoperfil.jpeg)"},className:"chat-me-header",children:Object(u.jsx)("h6",{children:"Chat en l\xednea"})}),Object(u.jsx)(k,{whatsapp:a,options:i,levelKeys:o,setLevelKeys:d,actualLevel:m,setActualLevel:b}),Object(u.jsx)("div",{className:"containerButton",children:Object(u.jsx)(j.a,{className:"btnContinuar",onClick:()=>(async()=>{p.a.show({type:"success",title:"",message:"\xbfEst\xe1s seguro de finalizar el chat?",btnOk:"Si",fnOk:async()=>{localStorage.removeItem("actualLevel"),localStorage.removeItem("levelKeys"),e({type:"CHAT_ME",payload:!1})},btnCancel:"Cancelar",buttonX:!0})})(),children:"Cerrar chat"})})]})})};var _=()=>{const{dispatch:e}=Object(s.useContext)(l.a),t=c.a.useRef(),[a,n]=Object(s.useState)("");Object(s.useEffect)((()=>{(async()=>{const e=await h.a.get("/api/aditional/search/whatsapp");200===e.status&&n(e.data)})()}),[]);return Object(u.jsxs)("div",{className:"btn-help",children:[Object(u.jsxs)("div",{className:"btn-help-hover",onClick:()=>{t.current.parentElement.parentElement.classList.remove("no-hover")},children:[Object(u.jsx)("img",{className:"globe-help",src:"/assets/images/need_help_globe.png"}),Object(u.jsx)("span",{className:"btn-help-hover-main",children:Object(u.jsx)(C.p,{})})]}),Object(u.jsxs)("div",{className:"panel-help",children:[Object(u.jsx)("span",{className:"panel-help-rectangule",onClick:()=>{t.current.parentElement.parentElement.classList.remove("no-hover")},ref:t,children:Object(u.jsx)("img",{className:"close",src:"/assets/icon/close.svg"})}),Object(u.jsxs)("div",{className:"help-menu one",onClick:()=>e({type:"CHAT_ME",payload:!0}),children:[Object(u.jsx)("img",{src:"/assets/icon/home_message.svg"}),Object(u.jsx)("p",{children:"Chat en l\xednea"})]}),Object(u.jsxs)("div",{className:"help-menu three",onClick:()=>e({type:"CALL_US",payload:!0}),children:[Object(u.jsx)(C.c,{}),Object(u.jsx)("p",{children:"Ll\xe1manos"})]}),Object(u.jsxs)("div",{className:"help-menu two",onClick:()=>e({type:"CALL_ME",payload:!0}),children:[Object(u.jsx)("img",{src:"/assets/icon/home_support.svg"}),Object(u.jsx)("p",{children:"Nosotros te llamamos"})]})]})]})},w=a(83),I=a(486),E=a(326),L=a(9),F=a(79),T=a(188),A=a(441),P=a(264),M=a(268);a(283);var R=e=>{let{user:t,data:a,setData:c,callback:n}=e;const[l]=r.a.useForm(),[i,d]=Object(s.useState)([]),[b,p]=Object(s.useState)(!1),[O,x]=Object(s.useState)(!1),[g,v]=Object(s.useState)(!1),f=async()=>{if(void 0==(await l.validateFields()).errorFields){const e=new FormData;t&&(i.length>0&&e.append("image",i[0].originFileObj),e.append("user",JSON.stringify({first_name:l.getFieldValue("first_name"),last_name:l.getFieldValue("last_name"),email:l.getFieldValue("email"),password:l.getFieldValue("password"),role:l.getFieldValue("role"),user:l.getFieldValue("phone")?l.getFieldValue("phone"):"",enterprise:""!=l.getFieldValue("name_enterprise"),name_enterprise:l.getFieldValue("name_enterprise"),phone:l.getFieldValue("phone")||void 0,url_image:t.url_image||"",change_image:g})),h.a.put("/api/user/"+(t._id?t._id:t.id),e).then((e=>{c(null),n(O)})))}},y=()=>{c(null)},C=e=>{let t={first_name:e.first_name,last_name:e.last_name,password:e.password,email:e.email,role:e.role,phone:e.phone,name_enterprise:e.name_enterprise};if(l.setFieldsValue(t),e.url_image){let t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL_API+"/api/storage?url="+e.url_image;d([{uid:"-1",name:"load.png",status:"done",url:t,thumbUrl:t}])}};return Object(s.useEffect)((()=>{l.resetFields(),t?C(t):d([])}),[t,a]),Object(s.useEffect)((()=>{const e=document.getElementsByClassName("ant-upload-list-item-actions");var t;e.length>0&&((t=e)[t.length-1].childNodes[0].title="Ver",t[t.length-1].childNodes[1].title="Eliminar")}),[t,a]),Object(u.jsx)(m.a,{open:a,onOk:f,onCancel:y,forceRender:!0,centered:!0,className:"modal-content-custom",width:"auto",maskClosable:!1,closeIcon:Object(u.jsx)("span",{onClick:y,children:Object(u.jsx)(T.a,{})}),footer:[Object(u.jsx)(j.a,{className:"btnContinuar",type:"primary",onClick:f,children:"Guardar"},"submit")],children:Object(u.jsxs)("div",{className:"modal-user",children:[Object(u.jsx)("h3",{children:"Configura tu cuenta"}),Object(u.jsx)("p",{className:"subtitle",children:"Revisa y actualiza tus datos"}),Object(u.jsx)("div",{className:"imagen",children:Object(u.jsxs)(r.a.Item,{children:[Object(u.jsx)("p",{className:"subtitle",children:"Imagen de perfil"}),Object(u.jsx)(M.a,{rotate:!1,aspect:1,modalTitle:"Edita tu imagen",shape:"round",modalOk:"Guardar",modalCancel:"Cancelar",children:Object(u.jsx)(A.a,{listType:"picture-card",fileList:i,defaultFileList:[...i],onChange:e=>{x(!0),v(!0),d(e.fileList)},children:0==i.length&&"+ Upload"})}),Object(u.jsx)("a",{className:"restartpass",href:"/restartpassword",children:"Cambiar contrase\xf1a"})]})}),Object(u.jsx)(r.a,{layout:"vertical",form:l,requiredMark:!1,onFinish:f,children:Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)(r.a.Item,{label:"Nombre(s):",name:"first_name",id:"first_name",hasFeedback:!0,rules:[{required:!0,message:"No olvides ingresar tu nombre"},{min:3,message:"Tu nombre tener al menos 3 caracteres!"}],children:Object(u.jsx)(o.a,{onChange:()=>x(!0)})}),Object(u.jsx)(r.a.Item,{label:"Apellidos:",name:"last_name",id:"last_name",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingresa tu apellido"},{min:3,message:"Tu apellido deben tener al menos 3 caracteres"}],children:Object(u.jsx)(o.a,{onChange:()=>x(!0)})}),Object(u.jsx)(r.a.Item,{label:"Celular/Tel\xe9fono:",name:"phone",id:"phone",hasFeedback:!0,rules:[{required:!0,message:"Por favor ingresa tu n\xfamero m\xf3vil"},{min:7,message:"Tu n\xfamero m\xf3vil debe tener m\xednimo 7 caracteres"},{max:10,message:"Tu n\xfamero m\xf3vil debe tener m\xe1ximo 10 caracteres"}],children:Object(u.jsx)(o.a,{type:"number",onChange:()=>x(!0)})}),Object(u.jsx)(r.a.Item,{label:"Correo:",name:"email",id:"email",hasFeedback:!0,rules:[{required:!0,type:"email",message:"Este correo no es v\xe1lido. \xa1Int\xe9ntalo de nuevo!"}],children:Object(u.jsx)(o.a,{disabled:"true",onChange:()=>x(!0)})}),Object(u.jsx)(r.a.Item,{style:{display:"flex",justifyContent:"center"},label:"\xbfEres cliente empresarial?",name:"enterprise",id:"enteprise",children:Object(u.jsxs)(P.a.Group,{defaultValue:t&&""!=t.enterprise?1:2,onChange:()=>{1==l.getFieldValue("enterprise")?p(!0):(p(!1),t&&(t.name_enterprise="",C(t)))},style:{display:"flex",justifyContent:"center"},children:[Object(u.jsx)(P.a,{value:1,children:"Si"}),Object(u.jsx)(P.a,{value:2,children:"No"})]})}),b||t&&t.enterprise?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(r.a.Item,{className:"enterprise-row",label:"Empresa:",name:"name_enterprise",id:"name_enterprise",hasFeedback:!0,children:Object(u.jsx)(o.a,{onChange:()=>x(!0)})})}):null]})})]})})};new F.a;var D=e=>{let{user:t,drawerMenu:a,onClose:c}=e;const n=Object(L.g)(),[l,i]=Object(s.useState)(),r=()=>{i(null)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(R,{user:t,data:l,setData:r,callback:r}),Object(u.jsxs)("div",{className:"drawer",children:[window.screen.width<=545&&Object(u.jsx)("div",{className:"drawer-close",onClick:c,children:"\xd7"}),Object(u.jsx)("div",{className:"drawer-logo",children:Object(u.jsx)(C.o,{})}),Object(u.jsx)("nav",{className:"containerMenu",children:t?Object(u.jsx)(u.Fragment,{children:"CLIENTE"===t.role?Object(u.jsxs)(E.a,{mode:"inline",defaultSelectedKeys:[n.location.pathname],defaultOpenKeys:[n.location.pathname.split("/")[1]],style:{height:"100%",borderRight:0},className:"mainMenu",children:[Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.l,{}),onClick:()=>n.push("/"),children:"Inicio"},"/"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.r,{}),onClick:()=>n.push("/procedure"),children:"Nuevo tr\xe1mite"},"/procedure"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.r,{}),onClick:()=>n.push("/procedurenotarial"),children:"Mis tr\xe1mites"},"/procedurenotarial"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.w,{}),onClick:()=>n.push("/questions"),children:"Preguntas frecuentes"},"/questions")]}):Object(u.jsxs)(E.a,{mode:"inline",defaultSelectedKeys:[n.location.pathname],defaultOpenKeys:[n.location.pathname.split("/")[1]],style:{height:"100%",borderRight:0},className:"mainMenu",children:[Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.l,{}),onClick:()=>n.push("/general"),children:"General"},"/general"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.r,{}),onClick:()=>n.push("/procedurenotarial"),children:"Tr\xe1mites"},"/procedure"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.y,{}),onClick:()=>n.push("/client"),children:"Clientes"},"/client"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.d,{}),onClick:()=>n.push("/enterprise"),children:"Empresas"},"/enterprise"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.b,{}),onClick:()=>n.push("/notary"),children:"Notar\xedas"},"/notary"),Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.t,{}),onClick:()=>n.push("/notification"),children:"Notificaciones"},"/notification")]})}):Object(u.jsx)(E.a,{mode:"inline",style:{height:"100%",borderRight:0},className:"mainMenu",children:Object(u.jsx)(E.a.Item,{icon:Object(u.jsx)(C.l,{}),onClick:()=>n.push("/"),children:"Inicio"},"/")})})]})]})};var K=e=>{let{openDrawer:t,setOpenDrawer:a}=e;const c=()=>{a(!1)},{user:l}=Object(s.useContext)(n.a);return Object(u.jsx)(I.a,{placement:"left",closable:!1,onClose:c,open:t,className:"drawerMobile",width:window.screen.width<=545?"100vw":360,children:Object(u.jsx)(D,{user:l,drawerMenu:t,onClose:c})},"right")},q=a(215);const H=new F.a;var V=e=>{let{user:t}=e;const[a,c]=Object(s.useState)(!1),[l,i]=Object(s.useState)(),[r,o]=Object(s.useState)(!1),[d,j]=Object(s.useState)(!1),[m,b]=Object(s.useState)(!1),{updateUser:O}=Object(s.useContext)(n.a);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(R,{user:t,data:l,setData:()=>{i(!1)},callback:async e=>{e&&p.a.show({type:"warning",title:"",message:"Tu informaci\xf3n ha sido actualizada con exito.",btnOk:"Aceptar",fnOk:async()=>{await h.a.get("/api/user/reload").then((e=>{O(e.data),"CLIENTE"==t.role?window.location.href="/":"ASESOR LEGAL"==t.role&&(window.location.href="/general")}))},buttonX:!0})}}),Object(u.jsx)(K,{openDrawer:a,setOpenDrawer:c}),Object(u.jsxs)("header",{className:"heaaderHome",children:[Object(u.jsx)("div",{className:"responsive-menu cursor-pointer",children:Object(u.jsx)("img",{src:"/assets/icon/menu.svg",alt:"/assets/icon/menu.svg",onClick:()=>c(!0)})}),Object(u.jsxs)("div",{className:"info-user-content",children:[Object(u.jsx)("div",{className:"info-user",style:{backgroundImage:"url(/assets/images/background-profile.png)"},children:t&&"CLIENTE"===t.role?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"\xa1Hola, "+(t&&t.first_name)+"!"}),Object(u.jsx)("h6",{children:"Siempre es bueno tenerte de regreso. \xbfQu\xe9 haremos hoy?"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Bienvenid@ "+(t&&t.first_name)}),Object(u.jsx)("h6",{children:"M\xf3dulo de Asesor\xeda Legal"})]})}),Object(u.jsx)("ul",{className:"photo-perfil",children:Object(u.jsx)("li",{children:t&&t.url_image?Object(u.jsx)("img",{className:"profile",src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL_API+"/api/storage?url="+t.url_image,alt:""}):Object(u.jsx)("img",{className:"profile",src:"/assets/icon/user_4.svg",alt:""})})})]}),Object(u.jsx)("div",{className:"content-config",children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("div",{className:"notificacion",onMouseOver:()=>{o(!0)},onMouseOut:()=>{o(!1)},children:Object(u.jsx)(q.a,{})}),r&&Object(u.jsx)("span",{className:"text-spam",children:"Notificaciones"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("div",{onClick:()=>{i(!0)},onMouseOver:()=>{j(!0)},onMouseOut:()=>{j(!1)},children:Object(u.jsx)(C.x,{})}),d&&Object(u.jsxs)("span",{className:"text-spam",children:["Configura",Object(u.jsx)("br",{}),"tu cuenta"]})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("div",{onClick:()=>{p.a.show({type:"warning",title:"",message:"\xbf Estas seguro de salir ? ",btnOk:"Aceptar",fnOk:()=>{H.remove("token"),localStorage.clear(),window.location.href="/login"},buttonX:!0,fnCancel:()=>{}})},onMouseOver:()=>{b(!0)},onMouseOut:()=>{b(!1)},children:Object(u.jsx)(C.n,{})}),m&&Object(u.jsx)("span",{className:"text-spam",children:"Salir"})]})]})})]})]})};a(286);t.a=e=>{let{children:t,loader:a=!1,visible:c=!0,hasHeaderProfile:i=!0,classNameMain:r=""}=e;const{user:o}=Object(s.useContext)(n.a),{state:d,dispatch:j}=Object(s.useContext)(l.a);return Object(s.useEffect)((()=>{(async()=>{localStorage.getItem("levelKeys")&&localStorage.getItem("actualLevel")&&j({type:"CHAT_ME",payload:!0})})()}),[]),Object(u.jsxs)(u.Fragment,{children:[a&&Object(u.jsx)(w.a,{type:"loader"}),Object(u.jsxs)("div",{className:"layout",style:{backgroundImage:"url(/assets/images/background-main.png)"},children:[Object(u.jsx)(D,{user:o}),Object(u.jsxs)("div",{className:"layout-content",children:[d.call_me&&Object(u.jsx)(g,{}),d.call_us&&Object(u.jsx)(v,{}),d.chat_me&&Object(u.jsx)(S,{}),c&&o&&"CLIENTE"===o.role&&Object(u.jsx)(_,{}),i&&Object(u.jsx)(V,{user:o}),Object(u.jsx)("main",{className:r,children:t})]})]})]})}},215:function(e,t,a){"use strict";var s=a(233),c=a.n(s),n=(a(267),a(0)),l=a(467),i=a(468),r=a(500),o=a(484),d=a(331),j=a(489),m=a(487),u=a(68),b=a(71),h=(a(285),a(1));const{Link:p}=o.a;t.a=()=>{const[e,t]=Object(n.useState)([]),a=Object(h.jsxs)("div",{className:e&&e.length>2?"notifications active-scroll":"notifications",children:[e&&e.map(((e,t)=>Object(h.jsx)(d.a,{trigger:["contextMenu"],onClick:()=>!e.view&&s(e._id),children:Object(h.jsxs)("div",{className:"notification-item",children:[!e.view&&Object(h.jsx)(l.a,{className:"icon-view"}),Object(h.jsxs)("div",{className:e.view?"content":"content icon-view-active",children:[Object(h.jsx)("h2",{className:"title",children:e.title}),Object(h.jsx)("p",{className:"message",children:e.message}),Object(h.jsx)("p",{className:"date",children:c()(e.created_at).locale("es").format("LLL")}),Object(h.jsxs)("div",{className:"container-footer",children:[Object(h.jsx)(i.a,{className:"btn-delet",type:"primary",onClick:()=>o(e._id)}),e.text&&""!=e.text&&Object(h.jsxs)(p,{href:e.link,className:"link-go",children:[e.text,Object(h.jsx)(r.a,{className:"icon"})]})]})]})]})},t))),!e||0==e.length&&Object(h.jsx)("div",{children:Object(h.jsx)("h4",{children:"No hay notificaciones..."})})]}),s=async a=>{await u.a.put("/api/notification-new/"+a).then((s=>{let c=[...e].map((e=>e._id==a?{...e,view:!0}:{...e}));t(c)}))},o=async a=>{u.a.delete("/api/notification-new/"+a).then((s=>{const c=[...e].filter((e=>e._id!=a));t(c)}))},O=async()=>{console.log("entro"),await u.a.get("/api/notification-new").then((e=>{if(200==e.status&&e.data&&e.data.length>0){let a=parseInt(localStorage.getItem("notifications"));t(e.data),localStorage.setItem("notifications",e.data.length.toString()),a&&e.data.length>a&&x()}})).catch((e=>{}))},x=()=>{new Notification("Tus tr\xe1mites, notificaci\xf3n",{body:"Tienes nuevas notificaciones en nuestra plataforma."})};return Object(n.useEffect)((()=>{O();const e=(()=>{const e=setInterval((()=>{O()}),3e5);return()=>clearInterval(e)})();return e}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{placement:"bottom",content:a,trigger:"click",children:Object(h.jsx)(m.a,{dot:e&&e.filter((e=>0==e.view)).length>0,children:Object(h.jsx)(b.s,{})})})})}},249:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){}}]);
//# sourceMappingURL=2.1187ee95.chunk.js.map