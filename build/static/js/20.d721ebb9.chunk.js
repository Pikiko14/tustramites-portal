(this["webpackJsonptus-tramites-administrador"]=this["webpackJsonptus-tramites-administrador"]||[]).push([[20],{199:function(e,t,a){"use strict";a(0);var r=a(71),n=a(215),o=a(1);t.a=e=>{let{title:t="Nuevo Tr\xe1mite"}=e;return Object(o.jsxs)("div",{className:"content-add-tramite",children:[Object(o.jsx)("div",{className:"button-nuevo-tramite",children:Object(o.jsxs)("div",{className:"centrarVerHor",children:[Object(o.jsx)(r.q,{}),Object(o.jsx)("span",{children:t})]})}),Object(o.jsx)("div",{className:"input-tramite",children:Object(o.jsx)("div",{className:"notificacion-movil",children:Object(o.jsx)(n.a,{})})})]})}},204:function(e,t,a){"use strict";const r=a(205),n=a(206),o=a(207),s=a(208);function c(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function d(e){return Array.isArray(e)?e.sort():"object"===typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return(e,a,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};case"comma":case"separator":return(t,a,r)=>{const n="string"===typeof a&&a.includes(e.arrayFormatSeparator),o="string"===typeof a&&!n&&l(a,e).includes(e.arrayFormatSeparator);a=o?l(a,e):a;const s=n||o?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);r[t]=s};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const n of e.split("&")){if(""===n)continue;let[e,s]=o(t.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:l(s,t),a(l(e,t),s,r)}for(const n of Object.keys(r)){const e=r[n];if("object"===typeof e&&null!==e)for(const a of Object.keys(e))e[a]=m(e[a],t);else r[n]=m(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const a=r[t];return Boolean(a)&&"object"===typeof a&&!Array.isArray(a)?e[t]=d(a):e[t]=a,e}),Object.create(null))}t.extract=p,t.parse=b,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>{return t.skipNull&&(null===(r=e[a])||void 0===r)||t.skipEmptyString&&""===e[a];var r},r=function(e){switch(e.arrayFormat){case"index":return t=>(a,r)=>{const n=a.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[i(t,e),"[",n,"]"].join("")]:[...a,[i(t,e),"[",i(n,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[i(t,e),"[]"].join("")]:[...a,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(a,r)=>null===r||void 0===r||0===r.length?a:0===a.length?[[i(t,e),"=",i(r,e)].join("")]:[[a,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,i(t,e)]:[...a,[i(t,e),"=",i(r,e)].join("")]}}(t),n={};for(const s of Object.keys(e))a(s)||(n[s]=e[s]);const o=Object.keys(n);return!1!==t.sort&&o.sort(t.sort),o.map((a=>{const n=e[a];return void 0===n?"":null===n?i(a,t):Array.isArray(n)?n.reduce(r(a),[]).join("&"):i(a,t)+"="+i(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,r]=o(e,"#");return Object.assign({url:a.split("?")[0]||"",query:b(p(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const r=u(e.url).split("?")[0]||"",n=t.extract(e.url),o=t.parse(n,{sort:!1}),s=Object.assign(o,e.query);let c=t.stringify(s,a);c&&(c="?".concat(c));let l=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(l="#".concat(i(e.fragmentIdentifier,a))),"".concat(r).concat(c).concat(l)},t.pick=(e,a,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:n,query:o,fragmentIdentifier:c}=t.parseUrl(e,r);return t.stringifyUrl({url:n,query:s(o,a),fragmentIdentifier:c},r)},t.exclude=(e,a,r)=>{const n=Array.isArray(a)?e=>!a.includes(e):(e,t)=>!a(e,t);return t.pick(e,n,r)}},205:function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase())))},206:function(e,t,a){"use strict";var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),o=new RegExp("("+r+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(n){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(a),s(r))}function c(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(n)||[],a=1;a<t.length;a++)t=(e=s(t,a).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var a={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);r;){try{a[r[0]]=decodeURIComponent(r[0])}catch(t){var n=c(r[0]);n!==r[0]&&(a[r[0]]=n)}r=o.exec(e)}a["%C2"]="\ufffd";for(var s=Object.keys(a),i=0;i<s.length;i++){var l=s[i];e=e.replace(new RegExp(l,"g"),a[l])}return e}(e)}}},207:function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},208:function(e,t,a){"use strict";e.exports=function(e,t){for(var a={},r=Object.keys(e),n=Array.isArray(t),o=0;o<r.length;o++){var s=r[o],c=e[s];(n?-1!==t.indexOf(s):t(s,c,e))&&(a[s]=c)}return a}},216:function(e,t,a){"use strict";a(0);var r=a(480),n=a(1);t.a=e=>{let{columns:t,data:a,pagination:o}=e;return Object(n.jsx)(r.a,{columns:t,dataSource:a,pagination:o})}},373:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(216),o=a(68),s=a(70),c=a(441),i=a(229),l=a(204),d=a.n(l),u=a(74),p=a(213),m=a(199),b=(a(373),a(1));t.default=e=>{const[t,a]=Object(r.useState)([]),[l,f]=Object(r.useState)(!1),[j,y]=Object(r.useState)(),[h,g]=Object(r.useState)(!1),[O,x]=Object(r.useState)(),[v,N]=Object(r.useState)(!1),[_,S]=Object(r.useState)("En este momento iniciamos tu proceso.\nEn el transcurso del d\xeda nos estaremos comunicando contigo.\nPor favor espera nuestra llamada."),[F,k]=Object(r.useState)([]),[A,C]=Object(r.useState)("0.0"),{user:E}=Object(r.useContext)(u.a),[w,I]=Object(r.useState)(),T=[{title:"Detalle",dataIndex:"detail",key:"detail",width:250,render:e=>{const t=e.split(" ")[0];return Object(b.jsx)("span",{className:["Subtotal","IVA","Total"].some((e=>e.includes(t)))?"bold":"",children:e})}},{title:"Total",dataIndex:"total",key:"total"}],q=e=>{o.a.get("/api/category/"+e).then((e=>{I(e.data)}))},$=e=>{o.a.get("/api/procedurenotarial/group/"+e).then((e=>{k(e.data)}))},U=()=>{s.a.show({type:"success",title:"\xa1T\xfa tr\xe1mite ha sido guardado!",message:"Para completar tu solicitud, podr\xe1s ir a la opci\xf3n del men\xfa Mis tr\xe1mites, seleccionar el bot\xf3n Ver de este tr\xe1mite y as\xed podr\xe1s continuar justo en donde lo dejaste.\nRecuerda que tienes 10 d\xedas para completarlo. Despu\xe9s de este tiempo, tu tr\xe1mite ser\xe1 eliminado.\n\nSi tienes alguna duda, activa la ayuda y podr\xe1s chatear con nosotros o si deseas podemos llamarte. ",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})},R=()=>{let t=!1;s.a.show({type:"success",title:E?"\xa1"+E.first_name+" gracias por preferirnos!":"\xa1Gracias por preferirnos!",message:_,btnOk:"Aceptar",fnOk:()=>{t=!0,e.history.push("/")},btnCancel:"Cancelar",buttonX:!0}),t||e.history.push("/")};return Object(r.useEffect)((()=>{(async()=>{let{p:t}=d.a.parse(e.location.search);t&&o.a.get("/api/procedurenotarial/one/"+t).then((e=>{let t=0,a=.12,r=0,n=e.data.order_summary_procedure.find((e=>"Subtotal"==e.detail||"IVA"==e.detail||"Total"==e.detail));if(n){let t=e.data.order_summary_procedure.find((e=>"Total"==e.detail));r=parseFloat(t.total.replace("$","").replace(" ",""))}else{e.data.order_summary_procedure.forEach((e=>{t+=parseFloat(e.total),e.total="$ "+e.total})),r=t+t*a;let n={detail:"Subtotal",total:"$ "+t},o={detail:"IVA 12%",total:"$ "+(t*a).toFixed(1)},s={detail:"Total",total:"$ "+(t+t*a).toFixed(1)};e.data.order_summary_procedure.push(n),e.data.order_summary_procedure.push(o),e.data.order_summary_procedure.push(s)}if(t=0,n=e.data.order_summary_notary.find((e=>"Subtotal"==e.detail||"IVA"==e.detail||"Total"==e.detail)),n){let t=e.data.order_summary_notary.find((e=>"Total"==e.detail));r+=parseFloat(t.total.replace("$","").replace(" ",""))}else{e.data.order_summary_notary.forEach((e=>{t+=parseFloat(e.total),e.total="$ "+e.total})),r+=t+t*a;let n={detail:"Subtotal",total:"$ "+t},o={detail:"IVA 12%",total:"$ "+(t*a).toFixed(1)},s={detail:"Total",total:"$ "+(t+t*a).toFixed(1)};e.data.order_summary_notary.push(n),e.data.order_summary_notary.push(o),e.data.order_summary_notary.push(s)}C("$ "+r.toFixed(1)),y(e.data),q(e.data.notarialAct.category),e.data.paid_out&&N(e.data.paid_out),e.data.payment_proof&&f(!0),e.data.notarialAct.document_result&&e.data.notarialAct.date?S("En este momento iniciamos tu proceso.\nVamos a elaborar el documento de tu tr\xe1mite y en el transcurso del d\xeda te estaremos enviando un mensaje a tu correo electr\xf3nico para que ingreses nuevamente a tu cuenta de Tr\xe1mites VIP, lo puedas revisar y dar tu aprobaci\xf3n o las recomendaciones respectivas.\nTen en cuenta que una vez hayas aprobado el documento, podr\xe1s solicitar tu cita preferencial para reclamar el documento en Notaria."):e.data.notarialAct.document_result&&!e.data.notarialAct.date?S("En este momento iniciamos tu proceso.\nVamos a elaborar el documento de tu tr\xe1mite y en el transcurso del d\xeda te estaremos enviando un mensaje a tu correo electr\xf3nico para que ingreses nuevamente a tu cuenta de Tr\xe1mites VIP, lo puedas revisar y dar tu aprobaci\xf3n o las recomendaciones respectivas."):e.data.notarialAct.document_result||e.data.notarialAct.date||S("En este momento iniciamos tu proceso.\nEn el transcurso del d\xeda nos estaremos comunicando contigo.\nPor favor espera nuestra llamada."),x(e.data.notarialAct),$(e.data._id)}))})(),g(!0),setTimeout((()=>{g(!1)}),3e3)}),[]),Object(b.jsxs)(p.a,{loader:h,hasHeaderProfile:!0,visible:!1,classNameMain:"orderSummary",children:[Object(b.jsx)(m.a,{}),j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"containerProcedure-info",children:Object(b.jsxs)("div",{span:23,className:"categories",children:[Object(b.jsxs)("h3",{className:"title-indicaciones",children:[w&&w.name," /"]}),Object(b.jsx)("div",{className:"line-morado"}),Object(b.jsx)("h2",{className:"title-indicaciones",children:O&&O.name}),Object(b.jsxs)("div",{className:"diplayflex",children:[Object(b.jsx)("div",{className:"content-circule",children:Object(b.jsx)("span",{className:"circule-number",children:"4"})}),Object(b.jsx)("h2",{className:"titleIngresarInfo",children:"Resumen de tu pedido"})]})]})}),Object(b.jsxs)("div",{className:"containerDescription",children:[Object(b.jsx)("p",{className:"containerDescription-description",children:"El valor total de tu(s) tr\xe1mite(s) es de ".concat(A," USD y lo puedes tener disponible en\n              2 d\xedas h\xe1biles.")}),Object(b.jsx)("p",{className:"containerDescription-description",children:"A continuaci\xf3n, te detallamos el valor de Tus Tr\xe1mites VIP y de la Notaria, acompa\xf1ado de las opciones correspondientes de pago de cada uno. Ten en cuenta que los pagos deben realizarse por separado."})]}),Object(b.jsx)("div",{className:"containerTables",children:Object(b.jsxs)("div",{className:"table-or",children:[Object(b.jsxs)("div",{className:"containerHeader",children:[Object(b.jsx)("h6",{children:"Tu Experto Legal"}),Object(b.jsxs)("span",{className:"containerHeader-payment",children:[Object(b.jsx)("span",{className:"pay",children:"pago"}),Object(b.jsx)("span",{className:"number",children:"1"})]})]}),Object(b.jsxs)("div",{className:"table-ori",children:[Object(b.jsx)("div",{className:"main-card-table-order",children:Object(b.jsx)(n.a,{className:"table-order-summary",pagination:!1,columns:T,data:j.order_summary_procedure})}),Object(b.jsx)("div",{className:"containerButton",children:Object(b.jsx)(c.a,{fileList:t,accept:".pdf",name:1,onChange:e=>(e=>{if(!l){var t=[{...e.file}];a(t)}})(e),showUploadList:!1,children:Object(b.jsx)(i.a,{className:"btnContinuar",disabled:l,children:"Subir comprobante"})},1)})]})]})}),Object(b.jsx)("div",{className:"containerNote",children:Object(b.jsx)("p",{children:"NOTA: Recuerda que si has solicitado la gesti\xf3n de documentos o procesos adicionales, sus valores correspondientes no est\xe1n contemplados en esta cotizaci\xf3n y deber\xe1n ser cancelados posteriormente."})}),Object(b.jsxs)("div",{className:"containerButtons",children:[Object(b.jsx)(i.a,{className:"btnSave",onClick:()=>(()=>{if(t.length>0||v){j.state="6",v&&(j.paid_out=v);const e=new FormData;t.forEach((t=>{e.append("file",t.originFileObj)})),e.append("notarial",JSON.stringify({...j})),o.a.put("/api/procedurenotarial/"+j._id,j).then((e=>{0===F.length&&s.a.show({type:"warning",title:"",message:"Toda la informaci\xf3n que has ingresado hasta este punto quedar\xe1 guardada para que puedas continuar despu\xe9s. Si necesitas ayuda no dudes en contactarnos.\n\n\xbfSegur@ que deseas guardar y salir?",btnOk:"Confirmar",fnOk:()=>{U()},btnCancel:"Cancelar",buttonX:!0})})).catch((e=>{console.log(e)})),F.length>0&&F.forEach(((e,a)=>{e.state="6",v&&(e.paid_out=v);const r=new FormData;t.forEach((e=>{r.append("file",e.originFileObj)})),r.append("notarial",JSON.stringify({...e})),o.a.put("/api/procedurenotarial/"+e._id,r).then((e=>{s.a.show({type:"warning",title:"",message:"Toda la informaci\xf3n que has ingresado hasta este punto quedar\xe1 guardada para que puedas continuar despu\xe9s. Si necesitas ayuda no dudes en contactarnos.\n\n\xbfSegur@ que deseas guardar y salir?",btnOk:"Confirmar",fnOk:()=>{a===F.length-1&&U()},btnCancel:"Cancelar",buttonX:!0})})).catch((e=>{console.log(e)}))}))}else s.a.show({type:"error",title:"Informaci\xf3n",message:"Debes ingresar informaci\xf3n para poder guardar.",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar"})})(),children:"Guardar"}),Object(b.jsx)(i.a,{className:"btnContinuar",onClick:()=>(()=>{j.state="7",j.paid_out=v;const e=new FormData;t.forEach((t=>{e.append("file",t.originFileObj)})),e.append("notarial",JSON.stringify({...j})),o.a.put("/api/procedurenotarial/"+j._id,e).then((e=>{0===F.length&&R()})).catch((e=>{console.log(e)})),F.length>0&&F.forEach(((e,a)=>{e.state="7",e.paid_out=v,e.payment_proof=t[0],o.a.put("/api/procedurenotarial/"+e._id,e).then((e=>{a===F.length-1&&R()})).catch((e=>{console.log(e)}))}))})(),children:"Finalizar"})]})]})]})}}}]);
//# sourceMappingURL=20.d721ebb9.chunk.js.map