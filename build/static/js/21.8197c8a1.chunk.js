(this["webpackJsonptus-tramites-administrador"]=this["webpackJsonptus-tramites-administrador"]||[]).push([[21],{199:function(e,a,t){"use strict";t(0);var r=t(71),n=t(215),s=t(1);a.a=e=>{let{title:a="Nuevo Tr\xe1mite"}=e;return Object(s.jsxs)("div",{className:"content-add-tramite",children:[Object(s.jsx)("div",{className:"button-nuevo-tramite",children:Object(s.jsxs)("div",{className:"centrarVerHor",children:[Object(s.jsx)(r.q,{}),Object(s.jsx)("span",{children:a})]})}),Object(s.jsx)("div",{className:"input-tramite",children:Object(s.jsx)("div",{className:"notificacion-movil",children:Object(s.jsx)(n.a,{})})})]})}},324:function(e,a){},380:function(e,a){},381:function(e,a){},382:function(e,a){},383:function(e,a){},384:function(e,a){},421:function(e,a,t){},497:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t(74),s=t(444),c=t(483),i=t(227),o=t(228),l=t(229),d=t(70),u=t(68),b=t(204),j=t.n(b),m=t(213),p=t(209),h=t(385),O=(t(419),t(420),t(1));var x=e=>{let{url:a}=e;const t=Object(h.defaultLayoutPlugin)();return Object(O.jsx)(p.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.1.266/build/pdf.worker.min.js",children:Object(O.jsx)(p.Viewer,{characterMap:{isCompressed:!0,url:"https://unpkg.com/pdfjs-dist@2.1.266/cmaps/"},fileUrl:a||"/document.pdf",plugins:[t]})})},v=t(199);t(421);a.default=e=>{const[a,t]=Object(r.useState)(),[b,p]=Object(r.useState)(),[h,f]=Object(r.useState)(),[g,y]=Object(r.useState)(),[N,C]=Object(r.useState)(!1),{TextArea:k}=s.a,{user:w}=Object(r.useContext)(n.a),[_]=c.a.useForm(),S=e=>{u.a.get("/api/category/"+e).then((e=>{p(e.data)}))};return Object(r.useEffect)((()=>{(()=>{let{p:a}=j.a.parse(e.location.search);a&&u.a.get("/api/procedurenotarial/one/"+a).then((e=>{y(e.data),t(e.data.notarialAct),S(e.data.notarialAct.category),e.data.notarialAct.date?f("Gracias por revisar y darnos la aprobaci\xf3n del documento.\n\n Ahora puedes proceder a agendar tu cita preferencial en Notar\xeda."):f("Gracias por revisar y darnos la aprobaci\xf3n del documento.\n\n Muy pronto nos estaremos comunicando contigo.")}))})(),setTimeout((()=>{C(!1)}),1e3)}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(m.a,{loader:N,hasHeaderProfile:!0,classNameMain:"notarialStepSeven",children:[Object(O.jsx)(v.a,{}),a?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{className:"containerProcedure-info",children:Object(O.jsxs)(o.a,{span:23,className:"categories",children:[Object(O.jsx)("h3",{className:"title-indicaciones",children:b&&b.name+" /"}),Object(O.jsx)("div",{className:"line-morado",children:" "}),Object(O.jsx)("h2",{className:"title-indicaciones",children:a&&a.name}),Object(O.jsxs)("div",{className:"diplayflex",children:[Object(O.jsx)("div",{className:"content-circule",children:Object(O.jsx)("div",{className:"circule-notaria",children:Object(O.jsx)("span",{className:"circule-number"})})}),Object(O.jsx)("h2",{className:"titleIngresarInfo",children:"Revisar el borrador"})]})]})}),Object(O.jsx)("br",{}),Object(O.jsxs)(i.a,{children:[Object(O.jsx)(o.a,{span:2}),Object(O.jsx)(o.a,{span:20,children:Object(O.jsxs)("p",{className:"containerDescription-description",children:[w.first_name+" "+w.last_name+", por favor lee cuidadosamente el borrador del documento final que hemos creado para tu tr\xe1mite. Revisa que todos los datos est\xe9n correctos (nombres, n\xfameros de identificaci\xf3n, ciudades, etc).\n\n\n                        Si todo est\xe1 perfecto, presiona el bot\xf3n ",Object(O.jsx)("b",{children:"Aprobar"}),". Pero si encuentras alg\xfan dato que deba ser corregido, por favor menci\xf3nalo en el campo de observaciones, acompa\xf1ado del n\xfamero de l\xednea que se encuentra a la izquierda del documento y presiona el bot\xf3n ",Object(O.jsx)("b",{children:"Corregir"}),"."]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(i.a,{children:[Object(O.jsx)(o.a,{span:2}),Object(O.jsx)(o.a,{span:16,children:g&&Object(O.jsx)(x,{url:"https://api.tustramitess.xyz/api/storage?url="+g.document_result+"&type=0&access=1"})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(c.a,{name:"basic",layout:"vertical",labelCol:{span:8},wrapperCol:{span:24},onFinish:a=>{g.observation_document_result=a.observation,g.state="10",u.a.put("/api/procedurenotarial/"+g._id,g).then((a=>{d.a.show({type:"warning",title:"Correcciones enviadas",message:w.first_name+" "+w.last_name+" gracias por revisar el documento y enviarnos las observaciones correspondientes.\n                    Revisaremos el documento y r\xe1pidamente realizaremos los ajustes pertinentes. Te estaremos informando para que ingreses nuevamente y puedas aprobarlo.",btnOk:"Aceptar",fnOk:()=>{e.history.push("/procedurenotarial")},btnCancel:"Cancelar",buttonX:!0})})).catch((e=>{d.a.show({type:"error",title:"Error inesperado",message:"Ocurrio un error inesperado, vuelve a intentar",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})}))},onFinishFailed:()=>{d.a.show({type:"error",title:"Diligencia adecuadamente el formulario",message:"Para enviar la correcci\xf3n debes ingresar las observaciones detectadas en el documento.",btnOk:"Aceptar",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})},autoComplete:"off",form:_,children:[Object(O.jsx)(i.a,{children:Object(O.jsx)(c.a.Item,{label:"Observaci\xf3n",name:"observation",id:"observation",className:"containerObservation",hasFeedback:!0,children:Object(O.jsx)(k,{className:"textArea",rows:4,placeholder:"Ingresa tu observaci\xf3n.",autoSize:{minRows:3,maxRows:5},maxLength:1e3,showCount:!0})})}),Object(O.jsx)(i.a,{className:"containerContinue",children:Object(O.jsxs)("div",{className:"containerButtonFinished",children:[Object(O.jsx)(c.a.Item,{children:Object(O.jsx)(l.a,{type:"primary",htmlType:"submit",className:"btnSave",children:"Corregir"})}),Object(O.jsx)(c.a.Item,{children:Object(O.jsx)(l.a,{type:"primary",htmlType:"button",className:"btnContinuar",onClick:()=>(_.getFieldValue("observation")&&(g.observation_document_result=_.getFieldValue("observation")),g.state="9",void u.a.put("/api/procedurenotarial/"+g._id,g).then((a=>{d.a.show({type:"success",title:"\xa1Genial "+w.first_name+" "+w.last_name+"!",message:h,btnOk:"Solicita tu cita",fnOk:()=>{e.history.push("/procedurenotarial")},btnCancel:"Cancelar",buttonX:!0})})).catch((e=>{d.a.show({type:"error",title:"Error inesperado",message:"Ocurrio un error inesperado, vuelve a intentar",btnOk:"Solicita tu cita",fnOk:()=>{},btnCancel:"Cancelar",buttonX:!0})}))),children:"Aprobar"})})]})})]})]}):null]})})}}}]);
//# sourceMappingURL=21.8197c8a1.chunk.js.map